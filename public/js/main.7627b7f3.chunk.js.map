{"version":3,"sources":["helpers/fetchData.ts","actions/actions.ts","actions/eventsActions.ts","actions/auth.ts","hooks/useForm.ts","components/auth/Register.tsx","components/auth/Login.tsx","components/pages/Auth.tsx","components/calendar/CalendarEvent.tsx","components/ui/Navbar.tsx","helpers/calendar-messages-es.ts","actions/uiActions.ts","components/calendar/CalendarModal.tsx","components/ui/AddNewFav.tsx","components/ui/DeleteEventFav.tsx","components/pages/Calendar.tsx","router/routesTypes.ts","router/Routes.ts","components/pages/NotFound.tsx","router/RouteWithSubRoutes.tsx","router/SubRouter.tsx","reducers/authReducer.ts","reducers/calendarReducer.ts","reducers/uiReducer.ts","reducers/rootReducer.ts","store/store.ts","App.tsx","index.tsx"],"names":["fetchData","endpoint","a","auth","method","data","files","url","process","token","localStorage","getItem","body","undefined","JSON","stringify","fileHeaders","headers","fetch","res","Promise","resolve","reject","json","status","uiActions","eventActions","authActions","addNew","setActive","unsetActive","evUpdate","evDelete","loaded","clear","eventLoaded","payload","type","eventAddNew","eventUnsetActive","eventUpdate","eventDelete","finishChecking","login","logout","dispatch","useForm","initialState","useState","values","setValues","target","name","value","newFormState","Register","useDispatch","register_email","register_password","confirm","handleInputChange","className","onSubmit","e","preventDefault","Swal","fire","email","password","title","text","showConfirmButton","willOpen","showLoading","user","_id","usrName","setItem","Date","toISOString","uid","close","console","log","icon","Object","keys","msg","err","timer","timerProgressBar","allowOutsideClick","allowEscapeKey","allowEnterKey","placeholder","onChange","Login","login_email","login_password","Auth","CalendarEvent","event","Navbar","useSelector","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","openModal","closeModal","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","moment","minutes","seconds","add","nowPlusOne","clone","CalendarModal","modalOpen","ui","activeEvent","calendar","isTitleValid","setIsTitleValid","initialForm","notes","start","toDate","end","reset","useEffect","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","contentLabel","ev","momentStart","momentEnd","isSameOrAfter","trim","length","eventStartAddNew","newStartDate","minDate","newEndDate","validator","isEmpty","autoComplete","id","rows","AddNewFav","DeleteEventFav","showCancelButton","confirmButtonText","cancelButtonText","then","isConfirmed","locale","localizer","momentLocalizer","Calendar","events","lastView","setLastView","startAccessor","endAccessor","eventPropGetter","backgroundColor","borderRadius","opacity","display","components","onDoubleClickEvent","onSelectEvent","onView","view","onSelectSlot","hidden","Routes","path","component","exact","location","useLocation","pathname","RouteWithSubRoutes","route","routes","map","subRoutes","render","props","to","SubRouter","children","checking","tokenDate","isBefore","authReducer","state","clearEvents","calendarReducer","filter","uiReducer","action","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7627b7f3.chunk.js","sourcesContent":["const fetchData = async <Req, Res = unknown>(\r\n  endpoint: string,\r\n  auth: boolean = false,\r\n  method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" = \"GET\",\r\n  data?: Req | FormData,\r\n  files: boolean = false\r\n): Promise<Res> => {\r\n  const url = `${process.env.REACT_APP_API_URL}/${endpoint}`;\r\n\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n  const body =\r\n    method === \"GET\"\r\n      ? undefined\r\n      : files\r\n      ? (data as FormData)\r\n      : JSON.stringify(data);\r\n\r\n  const fileHeaders = files\r\n    ? undefined\r\n    : { \"Content-Type\": \"application/json\" };\r\n\r\n  const headers = auth ? { ...fileHeaders, \"x-token\": token } : fileHeaders;\r\n\r\n  const res = await fetch(url, {\r\n    method,\r\n    headers,\r\n    body,\r\n  });\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    const json = await res.json();\r\n    return res.status < 400 ? resolve(json) : reject(json);\r\n  });\r\n};\r\n\r\nexport default fetchData;\r\n","export const uiActions = {\r\n  openModal: \"[ui] Open Modal\",\r\n  closeModal: \"[ui] Close Modal\",\r\n};\r\n\r\nexport const eventActions = {\r\n  addNew: \"[event] Add New\",\r\n  setActive: \"[event] Set Active\",\r\n  unsetActive: \"[event] Unset Active\",\r\n  loaded: \"[event] Events Loaded\",\r\n  evUpdate: \"[event] Update\",\r\n  evDelete: \"[event] Delete\",\r\n  clearEvents: \"[event] Clear All\",\r\n};\r\n\r\nexport const authActions = {\r\n  finishChecking: \"[Auth] Finich Checking Login State\",\r\n  login: \"[Auth] Login\",\r\n  logout: \"[Auth] Logout\",\r\n};\r\n","import { Dispatch } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport fetchData from \"../helpers/fetchData\";\r\nimport { iAction, iEvent, iEventRes, iLoadEventsRes } from \"../interfaces\";\r\nimport { eventActions } from \"./actions\";\r\n\r\nconst {\r\n  addNew,\r\n  setActive,\r\n  unsetActive,\r\n  evUpdate,\r\n  evDelete,\r\n  loaded,\r\n  clearEvents: clear,\r\n} = eventActions;\r\n\r\nexport const eventStartAddNew = (ev: iEvent) => async (\r\n  dispatch: Dispatch<iAction<iEvent>>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const { event } = await fetchData<iEvent, iEventRes>(\r\n      \"events\",\r\n      true,\r\n      \"POST\",\r\n      ev\r\n    );\r\n    dispatch(eventAddNew(event));\r\n    Swal.close();\r\n  } catch (error) {\r\n    console.log(error);\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const eventStartUpdate = (ev: iEvent) => async (\r\n  dispatch: Dispatch<iAction<iEvent>>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const { event } = await fetchData<iEvent, iEventRes>(\r\n      `events/${ev._id || \"\"}`,\r\n      true,\r\n      \"PUT\",\r\n      ev\r\n    );\r\n    dispatch(eventUpdate(event));\r\n    Swal.close();\r\n  } catch (error) {\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ]?.msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const eventStartLoading = () => async (\r\n  dispatch: Dispatch<iAction<Array<iEvent>>>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const { events } = await fetchData<undefined, iLoadEventsRes>(\r\n      \"events\",\r\n      true,\r\n      \"GET\"\r\n    );\r\n    dispatch(eventLoaded(events));\r\n    Swal.close();\r\n  } catch (error) {\r\n    console.log(error);\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const eventStartDelete = (id: string) => async (\r\n  dispatch: Dispatch<iAction>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const res = await fetchData<undefined, iLoadEventsRes>(\r\n      `events/${id}`,\r\n      true,\r\n      \"DELETE\"\r\n    );\r\n    console.log(res);\r\n    dispatch(eventDelete());\r\n    Swal.fire({\r\n      title: \"Éxito!\",\r\n      icon: \"success\",\r\n      text: \"Se borró satisfactoriamente el evento!\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const eventLoaded = (\r\n  payload: Array<iEvent>\r\n): iAction<Array<iEvent>> => ({\r\n  type: loaded,\r\n  payload,\r\n});\r\n\r\nexport const eventAddNew = (payload: iEvent): iAction<iEvent> => ({\r\n  type: addNew,\r\n  payload,\r\n});\r\n\r\nexport const eventSetActive = (payload: iEvent): iAction<iEvent> => ({\r\n  type: setActive,\r\n  payload,\r\n});\r\n\r\nexport const eventUnsetActive = (): iAction => ({ type: unsetActive });\r\n\r\nexport const eventUpdate = (payload: iEvent): iAction<iEvent> => ({\r\n  type: evUpdate,\r\n  payload,\r\n});\r\n\r\nexport const eventDelete = (): iAction => ({\r\n  type: evDelete,\r\n});\r\n\r\nexport const clearEvents = (): iAction => ({ type: clear });\r\n","import { Dispatch } from \"react\";\r\nimport fetchData from \"../helpers/fetchData\";\r\nimport {\r\n  iAction,\r\n  iLoginPayload,\r\n  iLoginReq,\r\n  iLoginRes,\r\n  iRegisterReq,\r\n} from \"../interfaces\";\r\nimport Swal from \"sweetalert2\";\r\nimport { authActions } from \"./actions\";\r\nimport { clearEvents } from \"./eventsActions\";\r\n\r\nexport const startLogin = (email: string, password: string) => async (\r\n  dispatch: Dispatch<iAction<iLoginPayload>>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const {\r\n      user: { _id, name, token },\r\n    } = await fetchData<iLoginReq, iLoginRes>(\"auth\", false, \"POST\", {\r\n      email,\r\n      password,\r\n    });\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"token-init-date\", new Date().toISOString());\r\n    dispatch(\r\n      login({\r\n        uid: _id,\r\n        name,\r\n      })\r\n    );\r\n    Swal.close();\r\n  } catch (error) {\r\n    console.log(error);\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const startRegister = (\r\n  name: string,\r\n  email: string,\r\n  password: string,\r\n  confirm: string\r\n) => async (dispatch: Dispatch<iAction<iLoginPayload>>) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const {\r\n      user: { _id, name: usrName, token },\r\n    } = await fetchData<iRegisterReq, iLoginRes>(\"auth/new\", false, \"POST\", {\r\n      name,\r\n      email,\r\n      password,\r\n      confirm,\r\n    });\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"token-init-date\", new Date().toISOString());\r\n    dispatch(\r\n      login({\r\n        uid: _id,\r\n        name: usrName,\r\n      })\r\n    );\r\n    Swal.close();\r\n  } catch (error) {\r\n    console.log(error);\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const startChecking = () => async (\r\n  dispatch: Dispatch<iAction<iLoginPayload | undefined>>\r\n) => {\r\n  Swal.fire({\r\n    title: \"Cargando...\",\r\n    text: \"Espere un momento por favor...\",\r\n    showConfirmButton: false,\r\n    willOpen: () => {\r\n      Swal.showLoading();\r\n    },\r\n  });\r\n  try {\r\n    const {\r\n      user: { _id, name: usrName, token },\r\n    } = await fetchData<undefined, iLoginRes>(\"auth/renew\", true, \"GET\");\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"token-init-date\", new Date().toISOString());\r\n    dispatch(\r\n      login({\r\n        uid: _id,\r\n        name: usrName,\r\n      })\r\n    );\r\n    Swal.close();\r\n  } catch (error) {\r\n    localStorage.clear();\r\n    dispatch(finishChecking());\r\n    Swal.fire({\r\n      title: \"Error\",\r\n      icon: \"error\",\r\n      text:\r\n        error[Object.keys(error)[1]][\r\n          Object.keys(error[Object.keys(error)[1]])[0]\r\n        ].msg ||\r\n        error.err ||\r\n        \"Ocurrio un error inesperado, por favor intentelo más tarde o revise sus datos...\",\r\n      timer: 2500,\r\n      showConfirmButton: false,\r\n      timerProgressBar: true,\r\n      allowOutsideClick: false,\r\n      allowEscapeKey: false,\r\n      allowEnterKey: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const finishChecking = (): iAction => ({\r\n  type: authActions.finishChecking,\r\n});\r\n\r\nexport const login = (payload: iLoginPayload): iAction<iLoginPayload> => ({\r\n  type: authActions.login,\r\n  payload,\r\n});\r\n\r\nexport const logout = () => (dispatch: Dispatch<iAction>) => {\r\n  localStorage.clear();\r\n  dispatch(clearEvents());\r\n  dispatch({\r\n    type: authActions.logout,\r\n  });\r\n};\r\n","import { ChangeEvent, useState } from \"react\";\r\n\r\nconst useForm = <T>(\r\n  initialState: T\r\n): [\r\n  T,\r\n  ({\r\n    target,\r\n  }: ChangeEvent<\r\n    HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n  >) => void,\r\n  (newFormState?: T) => void\r\n] => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = (newFormState?: T) => {\r\n    setValues(newFormState ? newFormState : initialState);\r\n  };\r\n\r\n  const handleInputChange = ({\r\n    target,\r\n  }: ChangeEvent<\r\n    HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n  >) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n\r\nexport default useForm;\r\n","import React, { FormEvent, FunctionComponent } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { startRegister } from \"../../actions/auth\";\r\nimport useForm from \"../../hooks/useForm\";\r\n\r\nconst Register: FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const registerInitial = {\r\n    register_email: \"\",\r\n    name: \"\",\r\n    register_password: \"\",\r\n    confirm: \"\",\r\n  };\r\n\r\n  const [values, handleInputChange] = useForm(registerInitial);\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    if (values.register_password !== values.confirm)\r\n      return Swal.fire(\"Error\", \"Las contraseñas no coinciden\", \"error\");\r\n    dispatch(\r\n      startRegister(\r\n        values.name,\r\n        values.register_email,\r\n        values.register_password,\r\n        values.confirm\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-md-6 login-form-2\">\r\n      <h3>Registro</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"name\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Nombre\"\r\n            value={values.name}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"register_email\"\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"Correo\"\r\n            value={values.register_email}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"register_password\"\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Contraseña\"\r\n            value={values.register_password}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"confirm\"\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Repita la contraseña\"\r\n            value={values.confirm}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { FormEvent, FunctionComponent } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { startLogin } from \"../../actions/auth\";\r\nimport useForm from \"../../hooks/useForm\";\r\n\r\nconst Login: FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const loginInitial = {\r\n    login_email: \"\",\r\n    login_password: \"\",\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    dispatch(startLogin(values.login_email, values.login_password));\r\n  };\r\n\r\n  const [values, handleInputChange] = useForm(loginInitial);\r\n  return (\r\n    <div className=\"col-md-6 login-form-1\">\r\n      <h3>Ingreso</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"login_email\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Correo\"\r\n            value={values.login_email}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            name=\"login_password\"\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Contraseña\"\r\n            value={values.login_password}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport \"./../auth/login.css\";\r\nimport Register from \"../auth/Register\";\r\nimport Login from \"./../auth/Login\";\r\n\r\nconst Auth: FunctionComponent = () => {\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <Login />\r\n        <Register />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport { EventProps } from \"react-big-calendar\";\r\nimport { iEvent } from \"../../interfaces\";\r\n\r\nconst CalendarEvent: FunctionComponent<EventProps<iEvent>> = ({ event }) => {\r\n  const { title, user } = event;\r\n\r\n  return (\r\n    <div>\r\n      <span>{title}</span> - <strong>{user?.name}</strong>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalendarEvent;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout } from \"../../actions/auth\";\r\nimport { iAppState, iUserState } from \"../../interfaces\";\r\n\r\nconst Navbar: FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n  const { name } = useSelector<iAppState>(({ auth }) => auth) as iUserState;\r\n\r\n  const handleClick = () => dispatch(logout());\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n      <span className=\"navbar-brand\">{name}</span>\r\n\r\n      <button className=\"btn btn-outline-danger\" onClick={handleClick}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n        <span> Salir</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","const messages = {\r\n  allDay: 'Todo el día',\r\n  previous: '<',\r\n  next: '>',\r\n  today: 'Hoy',\r\n  month: 'Mes',\r\n  week: 'Semana',\r\n  day: 'Día',\r\n  agenda: 'Agenda',\r\n  date: 'Fecha',\r\n  time: 'Hora',\r\n  event: 'Evento',\r\n  noEventsInRange: 'No hay eventos en este rango',\r\n  showMore: (total: number) => `+ Ver más (${total})`\r\n};\r\n\r\nexport default messages\r\n","import { iAction } from \"../interfaces\";\r\nimport { uiActions } from \"./actions\";\r\n\r\nconst { openModal, closeModal } = uiActions\r\n\r\nexport const uiOpenModal = (): iAction => ({\r\n  type: openModal\r\n})\r\n\r\nexport const uiCloseModal = (): iAction => ({\r\n  type: closeModal\r\n})","import React, {\r\n  FormEvent,\r\n  FunctionComponent,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport \"./modal.css\";\r\n/// <reference path=\"./../../react-datetime-picker.d.ts\" />\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport useForm from \"../../hooks/useForm\";\r\nimport moment from \"moment\";\r\nimport Swal from \"sweetalert2\";\r\nimport validator from \"validator\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { iAppState, iCalendarState, iEvent, iUiState } from \"../../interfaces\";\r\nimport { uiCloseModal } from \"../../actions/uiActions\";\r\nimport {\r\n  eventStartAddNew,\r\n  eventStartUpdate,\r\n  eventUnsetActive,\r\n} from \"../../actions/eventsActions\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowPlusOne = now.clone().add(1, \"hours\");\r\n\r\nconst CalendarModal: FunctionComponent = () => {\r\n  const { modalOpen } = useSelector<iAppState, iUiState>(({ ui }) => ui);\r\n  const { activeEvent } = useSelector<iAppState, iCalendarState>(\r\n    ({ calendar }) => calendar\r\n  );\r\n  const [isTitleValid, setIsTitleValid] = useState(true);\r\n\r\n  const initialForm = {\r\n    title: \"\",\r\n    notes: \"\",\r\n    start: now.toDate(),\r\n    end: nowPlusOne.toDate(),\r\n  };\r\n  const [values, handleInputChange, reset] = useForm<iEvent>(initialForm);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleStartDate = (newStartDate: Date) => {\r\n    reset({\r\n      ...values,\r\n      start: newStartDate,\r\n    });\r\n  };\r\n\r\n  const handleEndDate = (newEndDate: Date) => {\r\n    reset({\r\n      ...values,\r\n      end: newEndDate,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const momentStart = moment(values.start);\r\n    const momentEnd = moment(values.end);\r\n\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      return Swal.fire(\r\n        \"Error\",\r\n        \"La fecha final debe de ser mayor a la fecha de inicio\",\r\n        \"error\"\r\n      );\r\n    }\r\n\r\n    if (values.title.trim().length < 2) return setIsTitleValid(false);\r\n\r\n    setIsTitleValid(true);\r\n    closeModal();\r\n    if (activeEvent) return dispatch(eventStartUpdate(values));\r\n    return dispatch(eventStartAddNew(values));\r\n  };\r\n\r\n  const closeModal = () => {\r\n    reset(initialForm);\r\n    dispatch(eventUnsetActive());\r\n    dispatch(uiCloseModal());\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (activeEvent !== null) {\r\n      reset({\r\n        ...activeEvent,\r\n        start: moment(activeEvent.start).toDate(),\r\n        end: moment(activeEvent.end).toDate(),\r\n      });\r\n    } else {\r\n      reset();\r\n    }\r\n    return () => {\r\n      reset();\r\n    };\r\n    //eslint-disable-next-line\r\n  }, [activeEvent]);\r\n  return (\r\n    <Modal\r\n      isOpen={modalOpen}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n      contentLabel=\"modal\"\r\n    >\r\n      <h1> {activeEvent ? \"Editar evento\" : \"Nuevo evento\"} </h1>\r\n      <hr />\r\n      <form className=\"container\" onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <DateTimePicker\r\n            onChange={handleStartDate}\r\n            value={values.start}\r\n            minDate={now.toDate()}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <DateTimePicker\r\n            onChange={handleEndDate}\r\n            value={values.end}\r\n            minDate={values.start}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${\r\n              (!validator.isEmpty(values.title.trim()) && isTitleValid) ||\r\n              values.title.length > 2\r\n                ? \"is-valid\"\r\n                : validator.isEmpty(values.title.trim())\r\n                ? \"\"\r\n                : \"is-invalid\"\r\n            }`}\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={values.title}\r\n            onChange={handleInputChange}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Una descripción corta\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows={5}\r\n            name=\"notes\"\r\n            value={values.notes}\r\n            onChange={handleInputChange}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Información adicional\r\n          </small>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CalendarModal;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { uiOpenModal } from \"../../actions/uiActions\";\r\n\r\nconst AddNewFav: FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleAddNew = () => {\r\n    dispatch(uiOpenModal());\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-primary fab\" onClick={handleAddNew}>\r\n      <i className=\"fas fa-plus\"></i>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AddNewFav;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { eventStartDelete } from \"../../actions/eventsActions\";\r\nimport { iAppState, iCalendarState } from \"../../interfaces\";\r\n\r\nconst DeleteEventFav: FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { activeEvent } = useSelector<iAppState, iCalendarState>(\r\n    ({ calendar }) => calendar\r\n  );\r\n\r\n  const handleDelete = () => {\r\n    Swal.fire({\r\n      title: \"¿Estas seguro de eliminar este evento?\",\r\n      text: \"Si lo eliminas, no podrás recuperarlo\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"¡Seguro!\",\r\n      cancelButtonText: \"¡NO!\",\r\n      icon: \"question\",\r\n    }).then((res) => {\r\n      if (res.isConfirmed) dispatch(eventStartDelete(activeEvent?._id!));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-danger fab-danger\" onClick={handleDelete}>\r\n      <i className=\"fas fa-trash\"></i>\r\n      &nbsp;\r\n      <span>Borrar evento</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DeleteEventFav;\r\n","import React, {\r\n  CSSProperties,\r\n  FunctionComponent,\r\n  SyntheticEvent,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport {\r\n  Calendar as CaledarApi,\r\n  EventPropGetter,\r\n  momentLocalizer,\r\n  stringOrDate,\r\n  View,\r\n} from \"react-big-calendar\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es-mx\";\r\n\r\nimport CalendarEvent from \"../calendar/CalendarEvent\";\r\nimport Navbar from \"../ui/Navbar\";\r\nimport messages from \"../../helpers/calendar-messages-es\";\r\nimport {\r\n  iAppState,\r\n  iCalendarState,\r\n  iEvent,\r\n  iUserState,\r\n} from \"../../interfaces\";\r\nimport CalendarModal from \"../calendar/CalendarModal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { uiOpenModal } from \"../../actions/uiActions\";\r\nimport {\r\n  eventSetActive,\r\n  eventStartLoading,\r\n  eventUnsetActive,\r\n} from \"../../actions/eventsActions\";\r\nimport AddNewFav from \"../ui/AddNewFav\";\r\nimport DeleteEventFav from \"../ui/DeleteEventFav\";\r\n\r\nmoment.locale(\"es-mx\");\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst Calendar: FunctionComponent = () => {\r\n  const { uid } = useSelector<iAppState, iUserState>(({ auth }) => auth);\r\n  const { events, activeEvent } = useSelector<iAppState, iCalendarState>(\r\n    ({ calendar }) => calendar\r\n  );\r\n  const dispatch = useDispatch();\r\n  const [lastView, setLastView] = useState<View>(\r\n    (localStorage.getItem(\"lastView\") as View | undefined) || \"month\"\r\n  );\r\n\r\n  const onDoubleClick = (ev: iEvent, e: SyntheticEvent<HTMLElement, Event>) => {\r\n    dispatch(uiOpenModal());\r\n  };\r\n\r\n  const onSelectEvent = (ev: iEvent, e: SyntheticEvent<HTMLElement, Event>) => {\r\n    dispatch(eventSetActive(ev));\r\n  };\r\n\r\n  const onViewChange = (view: View) => {\r\n    setLastView(view);\r\n    localStorage.setItem(\"lastView\", view);\r\n  };\r\n\r\n  const onSelectSlot: (slot: {\r\n    start: stringOrDate;\r\n    end: stringOrDate;\r\n    slots: Date[] | string[];\r\n    action: \"select\" | \"click\" | \"doubleClick\";\r\n  }) => void = () => {\r\n    dispatch(eventUnsetActive());\r\n  };\r\n\r\n  const eventStyleGetter: EventPropGetter<iEvent> = (ev) => {\r\n    const style: CSSProperties = {\r\n      backgroundColor: uid === ev.user?._id ? \"#367CF7\" : \"#465660\",\r\n      borderRadius: \"0px\",\r\n      opacity: 0.8,\r\n      display: \"block\",\r\n    };\r\n\r\n    return { style };\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(eventStartLoading());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      <Navbar />\r\n      <CaledarApi\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        messages={messages}\r\n        eventPropGetter={eventStyleGetter}\r\n        components={{\r\n          event: CalendarEvent,\r\n        }}\r\n        onDoubleClickEvent={onDoubleClick}\r\n        onSelectEvent={onSelectEvent}\r\n        onView={onViewChange}\r\n        view={lastView}\r\n        onSelectSlot={onSelectSlot}\r\n      />\r\n      <AddNewFav />\r\n      {activeEvent !== null && <DeleteEventFav />}\r\n      <CalendarModal />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","export const hidden = \"[Route] Hidden\",\r\n  auth = \"[Route] Auth\";\r\n\r\nconst routesTypes = {\r\n  hidden,\r\n  auth,\r\n};\r\n\r\nexport default routesTypes;\r\n","import Auth from \"../components/pages/Auth\";\r\nimport Calendar from \"../components/pages/Calendar\";\r\nimport NotFound from \"../components/pages/NotFound\";\r\nimport { iRoute } from \"../interfaces\";\r\nimport { auth, hidden } from \"./routesTypes\";\r\n\r\nconst Routes: Array<iRoute> = [\r\n  {\r\n    path: \"/\",\r\n    component: Calendar,\r\n    exact: true,\r\n    type: auth,\r\n  },\r\n  {\r\n    path: \"/auth\",\r\n    component: Auth,\r\n    exact: true,\r\n    type: hidden,\r\n  },\r\n  {\r\n    path: \"*\",\r\n    component: NotFound,\r\n  },\r\n];\r\n\r\nexport default Routes;\r\n","import React, { FunctionComponent } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst NotFound: FunctionComponent = () => {\r\n  const location = useLocation();\r\n  return (\r\n    <main className=\"not-found\">\r\n      <h1 className=\"heading heading--display\">\r\n        Error 404 - Page &ldquo;{location.pathname}&rdquo; not found...\r\n      </h1>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { FunctionComponent, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { iAppState, iRoute, iUserState } from \"../interfaces\";\r\nimport { auth, hidden } from \"./routesTypes\";\r\n\r\nconst RouteWithSubRoutes: FunctionComponent<iRoute> = (route) => {\r\n  const { exact, path, routes, type } = route;\r\n\r\n  const { uid } = useSelector<iAppState>(({ auth }) => auth) as iUserState;\r\n\r\n  useEffect(() => {\r\n    routes !== undefined &&\r\n      routes.map((subRoutes) => {\r\n        subRoutes.type = type;\r\n        return routes;\r\n      });\r\n  }, [routes, type]);\r\n\r\n  switch (type) {\r\n    case auth:\r\n      if (uid)\r\n        return (\r\n          <Route\r\n            exact={exact !== undefined && exact}\r\n            path={path}\r\n            render={(props) => <route.component {...props} routes={routes} />}\r\n          />\r\n        );\r\n\r\n      return <Redirect to=\"/auth\" />;\r\n\r\n    case hidden:\r\n      if (!uid)\r\n        return (\r\n          <Route\r\n            exact={exact !== undefined && exact}\r\n            path={path}\r\n            render={(props) => <route.component {...props} routes={routes} />}\r\n          />\r\n        );\r\n\r\n      return <Redirect to=\"/\" />;\r\n\r\n    default:\r\n      return (\r\n        <Route\r\n          exact={exact !== undefined && exact}\r\n          path={path}\r\n          render={(props) => <route.component {...props} routes={routes} />}\r\n        />\r\n      );\r\n  }\r\n};\r\n\r\nexport default RouteWithSubRoutes;\r\n","import moment from \"moment\";\r\nimport React, { FunctionComponent } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { finishChecking, startChecking } from \"../actions/auth\";\r\nimport { iAppState, iRoute, iUserState } from \"../interfaces\";\r\nimport RouteWithSubRoutes from \"./RouteWithSubRoutes\";\r\n\r\nconst SubRouter: FunctionComponent<{ routes: Array<iRoute> }> = ({\r\n  routes,\r\n  children,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const { checking } = useSelector<iAppState>(({ auth }) => auth) as iUserState;\r\n\r\n  useEffect(() => {\r\n    const tokenDate = localStorage.getItem(\"token-init-date\");\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token && moment().isBefore(moment(tokenDate).add(8, \"hours\"))) {\r\n      dispatch(startChecking());\r\n    } else {\r\n      localStorage.clear();\r\n      dispatch(finishChecking());\r\n    }\r\n  }, [dispatch]);\r\n\r\n  if (checking) {\r\n    return <h5>Espere...</h5>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {routes.map((route) => (\r\n          <RouteWithSubRoutes key={route.path} {...route} />\r\n        ))}\r\n      </Switch>\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubRouter;\r\n","import { authActions } from \"../actions/actions\";\r\nimport { iAction, iLoginPayload, iUserState } from \"../interfaces\";\r\n\r\nconst initialState = {\r\n  checking: true,\r\n};\r\n\r\nconst authReducer = (\r\n  state: iUserState = initialState,\r\n  { type, payload }: iAction<iLoginPayload>\r\n): iUserState => {\r\n  switch (type) {\r\n    case authActions.login:\r\n      return {\r\n        checking: false,\r\n        ...payload,\r\n      };\r\n    case authActions.finishChecking:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case authActions.logout:\r\n      return {\r\n        checking: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { iAction, iCalendarState, iEvent } from \"../interfaces\";\r\nimport { eventActions } from \"../actions/actions\";\r\n\r\nconst initialState: iCalendarState = {\r\n  events: [],\r\n  activeEvent: null,\r\n};\r\n\r\nconst {\r\n  addNew,\r\n  setActive,\r\n  unsetActive,\r\n  evUpdate,\r\n  evDelete,\r\n  loaded,\r\n  clearEvents,\r\n} = eventActions;\r\n\r\nconst calendarReducer = (\r\n  state = initialState,\r\n  { type, payload }: iAction<iEvent | Array<iEvent>>\r\n): iCalendarState => {\r\n  switch (type) {\r\n    case addNew:\r\n      return { ...state, events: [...state.events, payload as iEvent] };\r\n    case loaded:\r\n      return {\r\n        ...state,\r\n        events: [...(payload as Array<iEvent>)],\r\n      };\r\n    case setActive:\r\n      return { ...state, activeEvent: payload as iEvent };\r\n    case unsetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n    case evUpdate:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((ev) =>\r\n          ev._id === (payload as iEvent)._id ? (payload as iEvent) : ev\r\n        ),\r\n      };\r\n    case evDelete:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter((ev) => ev._id !== state.activeEvent?._id),\r\n        activeEvent: null,\r\n      };\r\n    case clearEvents:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default calendarReducer;\r\n","import { uiActions } from \"../actions/actions\";\r\nimport { iAction, iUiState } from \"../interfaces\";\r\n\r\nconst initialState: iUiState = {\r\n  modalOpen: false\r\n}\r\n\r\nconst uiReducer = (state: iUiState = initialState, action: iAction): iUiState => {\r\n  switch (action.type) {\r\n    case uiActions.openModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true\r\n      };\r\n    case uiActions.closeModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default uiReducer;","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport calendarReducer from \"./calendarReducer\";\r\nimport uiReducer from \"./uiReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  ui: uiReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"../reducers/rootReducer\";\r\n\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import React from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Routes from \"./router/Routes\";\r\nimport SubRouter from \"./router/SubRouter\";\r\nimport \"./styles.css\";\r\nimport \"bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <SubRouter routes={Routes} />\r\n      </Router>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}